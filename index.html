<!DOCTYPE html>
<html lang="en" style="--ui-zoom: 0.95;"><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>a-REA</title>
<link rel="apple-touch-icon" href="icons/apple-touch-icon-iphone-60x60.png">
<link rel="apple-touch-icon" sizes="60x60" href="icons/apple-touch-icon-ipad-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="icons/apple-touch-icon-iphone-retina-120x120.png"> 
<link rel="apple-touch-icon" sizes="144x144" href="icons/apple-touch-icon-ipad-retina-152x152.png">

<style>
:root {
  --bg-dark: #000000;
  --text-main: #ffffff;
  --text-mute: rgba(255, 255, 255, 0.5);
  --accent: #007AFF;
  /* Glass Specs */
  --liquid-glass-bg: rgba(255, 255, 255, 0.12);
  --liquid-glass-border: rgba(255, 255, 255, 0.2);
  --liquid-glass-shine: rgba(255, 255, 255, 0.4);
  --ui-zoom: 0.95;
  /* Pill Colors */
  --nav-bg: rgba(20, 20, 20, 0.6);
  --pill-bg: rgba(255, 255, 255, 0.15);
  --pill-border: rgba(255, 255, 255, 0.2);
}

body {
  margin: 0;
  background-color: var(--bg-dark);
  color: var(--text-main);
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", sans-serif;
  overflow-x: hidden;
  min-height: 100vh;
  transform: scale(var(--ui-zoom));
  transform-origin: top center;
  width: calc(100% / var(--ui-zoom));
}

body.light {
  --bg-dark: #f2f2f7;
  --text-main: #000000;
  --text-mute: rgba(0, 0, 0, 0.5);
  --liquid-glass-bg: rgba(255, 255, 255, 0.7);
  --liquid-glass-border: rgba(0, 0, 0, 0.05);
  --liquid-glass-shine: rgba(255, 255, 255, 1);
  --nav-bg: rgba(240, 240, 245, 0.8);
  --pill-bg: #ffffff;
  --pill-border: rgba(0, 0, 0, 0.1);
}

body.no-bg #glassCanvas { display: none !important; }

/* iPad/PC Mode Layout */
body.ipad-mode section {
  max-width: 98% !important;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

#glassCanvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  filter: blur(60px) contrast(1.2);
  opacity: 0.8;
}

section {
  display: none;
  padding: 20px;
  max-width: 600px;
  margin: 0 auto;
  padding-bottom: 140px;
  animation: pageEnter 0.4s cubic-bezier(0.2, 1, 0.3, 1);
}
section.active { display: block; }

@keyframes pageEnter {
  from { opacity: 0; transform: scale(0.98) translateY(10px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}

.glass-card {
  background: var(--liquid-glass-bg);
  backdrop-filter: blur(30px);
  -webkit-backdrop-filter: blur(30px);
  border: 1px solid var(--liquid-glass-border);
  border-top: 1px solid var(--liquid-glass-shine);
  border-radius: 28px;
  padding: 24px;
  margin-bottom: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  cursor: default;
  transition: transform 0.2s ease, max-width 0.3s ease;
}

.glass-card.clickable:active { transform: scale(0.98); }

/* --- WIX SCALE CONTAINER --- */
.iframe-wrapper {
  height: 80vh; 
  padding: 0; 
  overflow: hidden; 
  border-radius: 24px;
  position: relative;
  background: #000;
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

.wix-iframe {
  border: none;
  position: absolute;
  top: 0;
  left: 0;
  transform-origin: top left;
  transition: transform 0.3s cubic-bezier(0.19, 1, 0.22, 1), width 0.3s ease;
}

/* --- NAV BAR --- */
.nav-container {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  width: fit-content;
  display: flex;
  align-items: center;
  padding: 8px;
  z-index: 1000;
  background: var(--nav-bg);
  backdrop-filter: blur(30px);
  -webkit-backdrop-filter: blur(30px);
  border-radius: 35px;
  border: 1px solid var(--liquid-glass-border);
  box-shadow: 0 10px 40px rgba(0,0,0,0.4);
}

.nav-item {
  position: relative;
  background: none;
  border: none;
  width: 64px;
  height: 64px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: color 0.3s;
  color: var(--text-mute);
  z-index: 2;
}

.nav-selection-pill {
  position: absolute;
  height: 56px;
  width: 56px;
  background: var(--pill-bg);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid var(--pill-border);
  border-radius: 28px;
  z-index: 1;
  transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
  pointer-events: none;
}

.nav-item.active { color: var(--text-main); }
svg { width: 28px; height: 28px; fill: currentColor; }

/* --- UI ELEMENTS --- */
.song-title { font-weight: 600; margin-bottom: 8px; font-size: 15px; display: block;}
audio { width: 100%; height: 38px; border-radius: 20px; margin-bottom: 16px; }
video { width: 100%; border-radius: 20px; border: none; background: #000;}

.btn-ios {
  display: block; width: 100%; padding: 18px; background: var(--accent);
  color: #fff; text-decoration: none; border-radius: 20px; text-align: center;
  font-weight: 600; font-size: 17px; margin-bottom: 20px;
}

.toggle-row {
  display: flex; justify-content: space-between; align-items: center;
  padding: 16px 0; border-bottom: 1px solid var(--liquid-glass-border);
}
.toggle-row:last-child { border-bottom: none; }

input[type="range"] {
  width: 140px;
  accent-color: var(--accent);
}

/* Style for the new Select dropdown */
.setting-select {
  background: var(--pill-bg);
  color: var(--text-main);
  border: 1px solid var(--liquid-glass-border);
  border-radius: 12px;
  padding: 8px 12px;
  font-size: 15px;
  outline: none;
  backdrop-filter: blur(10px);
}
.setting-select option {
  background: var(--bg-dark);
  color: var(--text-main);
}
</style>
<style type="text/css">.eruda-search-highlight-block{display:inline}.eruda-search-highlight-block .eruda-keyword{background:#332a00;color:#ffcb6b}</style><style type="text/css">@font-face{font-family:eruda-icon;src:url('data:application/x-font-woff;charset=utf-8;base64,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') format('woff')}[class*=' eruda-icon-'],[class^='eruda-icon-']{font-family:eruda-icon!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.eruda-icon-arrow-left:before{content:'\f101'}.eruda-icon-arrow-right:before{content:'\f102'}.eruda-icon-caret-down:before{content:'\f103'}.eruda-icon-caret-right:before{content:'\f104'}.eruda-icon-clear:before{content:'\f105'}.eruda-icon-compress:before{content:'\f106'}.eruda-icon-delete:before{content:'\f107'}.eruda-icon-error:before{content:'\f108'}.eruda-icon-expand:before{content:'\f109'}.eruda-icon-eye:before{content:'\f10a'}.eruda-icon-play:before{content:'\f10b'}.eruda-icon-refresh:before{content:'\f10c'}.eruda-icon-reset:before{content:'\f10d'}.eruda-icon-search:before{content:'\f10e'}.eruda-icon-select:before{content:'\f10f'}.eruda-icon-tool:before{content:'\f110'}.eruda-icon-warn:before{content:'\f111'}</style></head>
<body class="light ipad-mode" data-new-gr-c-s-check-loaded="10.2.0" data-gr-ext-installed="" data-new-gr-c-s-loaded="10.2.0">

<canvas id="glassCanvas" width="1440" height="865"></canvas>

<section id="home" class="active">
  <div class="glass-card clickable" style="border-left: 4px solid var(--accent);" onclick="openAlexModal()">
    <strong style="color:var(--accent)">Alexandru News</strong><br>
    <span style="font-size: 14px; opacity: 0.8;">Find out about Alexandru and why I'm committing to his legacy!</span>
  </div>

  <div class="glass-card iframe-wrapper" id="wixWrapper">
    <iframe id="wixFrame" class="wix-iframe" src="https://aqeelchy02.wixsite.com/a-rea" style="width: 375px; height: 25.951557%; transform: scale(0);"></iframe>
  </div>
</section>

<section id="songs">
  <h1>Musical Story</h1>
  <div class="glass-card">
    <span class="song-title">01 – a-REA (Original)</span>
    <audio controls="" src="audio/01 - Aqeel Ahmed Choudhury - a-REA.mp3"></audio>
    <span class="song-title">02 – L-INE GRAPHS!</span>
    <audio controls="" src="audio/02 - Aqeel Ahmed Choudhury - L-INE GRAPHS!.mp3"></audio>
    <span class="song-title">03 – T-ABLES!!</span>
    <audio controls="" src="audio/03 - Aqeel Ahmed Choudhury - T-ABES!!.mp3"></audio>
    <span class="song-title">04 – T-IMETABLES!!</span>
    <audio controls="" src="audio/04 - Aqeel Ahmed Choudhury - T-IMETABLES!!!.mp3"></audio>
    <span class="song-title">05 – A-NGLES!!!!</span>
    <audio controls="" src="audio/05 - Aqeel Ahmed Choudhury - A-NGLES!!!!.mp3"></audio>
    <div style="margin-top:20px; padding-top:20px; border-top: 1px solid var(--liquid-glass-border);">
      <span class="song-title" style="color:var(--accent)">Bonus – a-REA Revamp</span>
      <audio controls="" src="audio/aREAREVAMP.m4a"></audio>
      <span class="song-title">NEW – MASTER</span>
      <audio controls="" src="Music/MASTER.m4a"></audio>
      <span class="song-title">FAN FAVOURITE – TINY</span>
      <audio controls="" src="audio/Tiny.m4a"></audio>
    </div>
  </div>
</section>

<section id="videos">
  <h1>Videos</h1>
  <div class="glass-card">
    <span class="song-title">aq.co direct - a-REA 2.0</span>
    <video controls="" src="https://www.dropbox.com/scl/fi/kvyqipeicp9iw4jwq743f/aq.co-direct-a-REA-2.0-07.05.2025.mp4?rlkey=mt0h8e3x16sltw6jvm1a3lyfg&amp;raw=1"></video>
  </div>
</section>

<section id="games" class="ultra-wide-section">
  <h1 class="section-title">Games</h1>
  <a href="https://www.roblox.com/games/70684065412187/a-REA-HANGOUT" class="btn-ios-large">LAUNCH a-REA HANGOUT</a>
  
  <div class="ultra-grid">
    <div class="glass-card game-container-giant">
      <div class="game-ui-header">
        <div class="status-dot"></div>
        <span class="game-label">MASTER</span>
        <button class="expand-trigger" onclick="handleFullscreen(this)">
          <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2.5" fill="none"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
        </button>
      </div>
      <div class="game-viewport">
        <iframe src="file.html" class="game-iframe" data-virtual-width="1200"></iframe>
      </div>
    </div>

    <div class="glass-card game-container-giant">
      <div class="game-ui-header">
        <div class="status-dot"></div>
        <span class="game-label">TINY THE GAME</span>
        <button class="expand-trigger" onclick="handleFullscreen(this)">
          <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2.5" fill="none"><path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/></svg>
        </button>
      </div>
      <div class="game-viewport">
        <iframe src="tiny.html" class="game-iframe" data-virtual-width="1200"></iframe>
      </div>
    </div>
  </div>

  <style>
    /* Section Layout Overrides */
    .ultra-wide-section {
      max-width: 98% !important;
      width: 98% !important;
      padding: 10px !important;
      margin: 0 auto;
    }

    .section-title { font-size: 42px; font-weight: 800; margin-bottom: 20px; text-align: center; color: var(--text-main); }

    .btn-ios-large {
      display: block; width: 100%; max-width: 600px; margin: 0 auto 40px auto;
      padding: 24px; background: #007AFF; color: white; text-align: center;
      text-decoration: none; border-radius: 24px; font-weight: 700; font-size: 20px;
    }

    .ultra-grid { display: flex; flex-direction: column; gap: 40px; width: 100%; }

    .game-container-giant {
      height: 750px !important;
      padding: 0 !important;
      border-radius: 32px !important;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      background: var(--liquid-glass-bg);
      border: 1px solid var(--liquid-glass-border);
      transition: all 0.3s ease;
    }

    body.ipad-mode .game-container-giant { height: 850px !important; }

    .game-ui-header {
      padding: 15px 25px;
      background: rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .status-dot { width: 10px; height: 10px; background: #34C759; border-radius: 50%; box-shadow: 0 0 8px #34C759; }
    .game-label { font-weight: 800; letter-spacing: 1px; flex-grow: 1; color: #fff; }

    .expand-trigger {
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.2);
      color: white; padding: 10px; border-radius: 12px; cursor: pointer;
    }

    .game-viewport { flex-grow: 1; background: #000; position: relative; overflow: hidden; }

    .game-iframe {
      border: none; position: absolute; top: 0; left: 0;
      transform-origin: top left; width: 100%; height: 100%;
    }

    /* FULLSCREEN CLASS */
    .game-container-giant.is-active-fs {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      width: 100vw !important;
      height: 100vh !important;
      z-index: 999999 !important;
      border-radius: 0 !important;
      margin: 0 !important;
    }

    body.ipad-mode .ultra-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
    }
  </style>

  <script>
    function handleFullscreen(btn) {
      const card = btn.closest('.game-container-giant');
      const isNowFull = card.classList.toggle('is-active-fs');
      
      // Toggle body scroll
      if (isNowFull) {
        document.body.style.overflow = 'hidden';
      } else {
        document.body.style.overflow = '';
      }

      // Re-trigger the scaling logic immediately
      if (typeof scaleGameIframes === 'function') {
        setTimeout(scaleGameIframes, 10);
        setTimeout(scaleGameIframes, 300); // Once animation finishes
      }
    }
    
    // Auto-scale on load for this specific section
    setTimeout(() => {
      if (typeof scaleGameIframes === 'function') scaleGameIframes();
    }, 500);
  </script>
</section>

<section id="books">
  <h1 style="text-align: center; margin-bottom: 24px;">Library</h1>

  <div class="glass-card" style="padding: 10px; height: 600px; display: flex; flex-direction: column; gap: 15px; margin-bottom: 30px;">
    <iframe 
      allowfullscreen="allowfullscreen" 
      allow="clipboard-write" 
      scrolling="no" 
      class="fp-iframe" 
      src="https://heyzine.com/flip-book/5fac1c0a65.html" 
      style="border: 0px; width: 100%; flex-grow: 1; border-radius: 18px; background: rgba(0,0,0,0.1);">
    </iframe>
    <a href="https://www.dropbox.com/scl/fi/f2ny0p7u6eai9dtqlu8vn/Trash.pdf?rlkey=z3410okcjoxwysje6dvkgt3im&st=yc0svifc&raw=1" target="_blank" class="btn-ios" style="margin-bottom: 0; display: flex; align-items: center; justify-content: center; gap: 10px;">
      <svg viewBox="0 0 24 24" style="width: 20px; height: 20px;"><path d="M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"></path></svg>
      Download Trash
    </a>
  </div>

  <div class="glass-card" style="padding: 10px; height: 600px; display: flex; flex-direction: column; gap: 15px; margin-bottom: 30px;">
    <iframe 
      allowfullscreen="allowfullscreen" 
      allow="clipboard-write" 
      scrolling="no" 
      class="fp-iframe" 
      src="https://heyzine.com/flip-book/5b6763ab02.html" 
      style="border: 0px; width: 100%; flex-grow: 1; border-radius: 18px; background: rgba(0,0,0,0.1);">
    </iframe>
    <a href="https://www.dropbox.com/scl/fi/jbxyot1tvss95wmy8oqsp/Skellig.pdf?rlkey=zw8p0z9eatsacec76omwdkoko&st=wi7kelpx&raw=1" target="_blank" class="btn-ios" style="margin-bottom: 0; display: flex; align-items: center; justify-content: center; gap: 10px;">
      <svg viewBox="0 0 24 24" style="width: 20px; height: 20px;"><path d="M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"></path></svg>
      Download Skellig
    </a>
  </div>
</section>

<section id="settings">
  <h1>Settings</h1>
  <div class="glass-card">
    <div class="toggle-row">
        <span style="font-size: 17px; font-weight:500;">Default Page</span>
        <select id="startPageSelect" class="setting-select" onchange="updateSetting('startPage', this.value)">
            <option value="home">Home</option>
            <option value="songs">Songs</option>
            <option value="videos">Videos</option>
            <option value="games">Games</option>
            <option value="books">Books</option>
            <option value="settings">Settings</option>
        </select>
    </div>
    <div class="toggle-row">
      <span style="font-size: 17px; font-weight:500;">Light Mode</span>
      <input type="checkbox" id="lightToggle" onchange="updateSetting('lightMode', this.checked)">
    </div>
    <div class="toggle-row">
      <span style="font-size: 17px; font-weight:500;">iPad/PC Mode (Wide)</span>
      <input type="checkbox" id="ipadToggle" onchange="updateSetting('ipadMode', this.checked)">
    </div>
    <div class="toggle-row">
      <span style="font-size: 17px; font-weight:500;">Remove Background</span>
      <input type="checkbox" id="noBgToggle" onchange="updateSetting('noBg', this.checked)">
    </div>
    <div class="toggle-row">
      <div style="display:flex; flex-direction:column;">
        <span style="font-size: 17px; font-weight:500;">Wix Site Width</span>
        <small style="opacity:0.6" id="widthLabel">375px (Desktop)</small>
      </div>
      <input type="range" id="wixWidthSlider" min="320" max="2560" step="20" value="375" oninput="updateSetting('wixWidth', this.value)">
    </div>
    <div class="toggle-row">
      <span style="font-size: 17px; font-weight:500;">Page Zoom</span>
      <input type="range" id="uiScaleSlider" min="0.5" max="1.5" step="0.05" value="0.95" oninput="updateSetting('uiScale', this.value)">
    </div>
  </div>
</section>

<div class="nav-container">
 <div id="selectionPill" class="nav-selection-pill" style="transform: translateX(8px);"></div>
  <button class="nav-item active" onclick="showTab('home', this, 0)"><svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></svg></button>
  <button class="nav-item" onclick="showTab('songs', this, 1)"><svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"></path></svg></button>
  <button class="nav-item" onclick="showTab('videos', this, 2)"><svg viewBox="0 0 24 24"><path d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></svg></button>
  <button class="nav-item" onclick="showTab('games', this, 3)"><svg viewBox="0 0 24 24"><path d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10 7H8v3H6v-3H3v-2h3V8h2v3h3v2zm4.5 2c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4-3c-.83 0-1.5-.67-1.5-1.5S19.67 9 20.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"></path></svg></button>
  <button class="nav-item" onclick="showTab('books', this, 4)"><svg viewBox="0 0 24 24"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"></path></svg></button>
  <button class="nav-item" onclick="showTab('settings', this, 5)"><svg viewBox="0 0 24 24"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path></svg></button>
</div>

<div id="customAlert" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); backdrop-filter:blur(10px); display:none; align-items:center; justify-content:center; z-index:9999;">
  <div class="glass-card" style="max-width:300px; text-align:center;">
    <h2 id="alertTitle" style="color:var(--accent); margin-top:0;"></h2>
    <p id="alertMsg"></p>
    <button class="btn-ios" style="margin-bottom:0; padding:12px;" onclick="closeAlert()">Close</button>
  </div>
</div>

<script>
const canvas = document.getElementById('glassCanvas');
const ctx = canvas.getContext('2d');
let points = [];

let appSettings = {
  lightMode: true,
  ipadMode: false,
  noBg: false,
  wixWidth: 375,
  uiScale: 0.95,
  startPage: 'home' // Default start page
};

function initCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  points = [];
  const colors = ['#007AFF', '#5856D6', '#AF52DE', '#FF2D55'];
  for(let i=0; i<6; i++) {
    points.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      vx: (Math.random() - 0.5) * 1.5,
      vy: (Math.random() - 0.5) * 1.5,
      r: Math.random() * 300 + 200,
      color: colors[i % colors.length]
    });
  }
}

function loop() {
  if (!appSettings.noBg) {
    ctx.clearRect(0,0,canvas.width, canvas.height);
    points.forEach(p => {
      p.x += p.vx; p.y += p.vy;
      if(p.x < -p.r || p.x > canvas.width + p.r) p.vx *= -1;
      if(p.y < -p.r || p.y > canvas.height + p.r) p.vy *= -1;
      let g = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, p.r);
      g.addColorStop(0, p.color);
      g.addColorStop(1, 'transparent');
      ctx.fillStyle = g;
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
      ctx.fill();
    });
  }
  requestAnimationFrame(loop);
}

function updateSetting(key, val) {
  appSettings[key] = val;
  localStorage.setItem('aREASettings', JSON.stringify(appSettings));
  applySettings();
}

function applySettings() {
  if (!appSettings) return;
  document.body.classList.toggle('light', appSettings.lightMode);
  document.getElementById('lightToggle').checked = appSettings.lightMode;
  document.body.classList.toggle('ipad-mode', appSettings.ipadMode);
  document.getElementById('ipadToggle').checked = appSettings.ipadMode;
  document.body.classList.toggle('no-bg', appSettings.noBg);
  document.getElementById('noBgToggle').checked = appSettings.noBg;
  document.documentElement.style.setProperty('--ui-zoom', appSettings.uiScale);
  document.getElementById('uiScaleSlider').value = appSettings.uiScale;
  
  // Set the dropdown value
  if(appSettings.startPage) {
    const sel = document.getElementById('startPageSelect');
    if(sel) sel.value = appSettings.startPage;
  }

  const frame = document.getElementById('wixFrame');
  const wrapper = document.getElementById('wixWrapper');
  const label = document.getElementById('widthLabel');
  
  if (frame && wrapper) {
    const containerWidth = wrapper.offsetWidth;
    const targetWidth = parseInt(appSettings.wixWidth);
    const scaleFactor = containerWidth / targetWidth;
    frame.style.width = targetWidth + "px";
    frame.style.height = (100 / scaleFactor) + "%"; 
    frame.style.transform = `scale(${scaleFactor})`;
    label.innerText = `${targetWidth}px ${appSettings.ipadMode ? '(Desktop)' : '(Mobile)'}`;
  }
  document.getElementById('wixWidthSlider').value = appSettings.wixWidth;
}

function showTab(id, btn, index) {
  document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
  const target = document.getElementById(id);
  if(target) target.classList.add('active');
  
  document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  
  const pill = document.getElementById('selectionPill');
  pill.style.transform = `translateX(${index * 64 + 8}px)`;
  window.scrollTo({top: 0, behavior: 'smooth'});
}

window.addEventListener('resize', () => {
  initCanvas();
  applySettings();
});

function loadStoredSettings() {
  const saved = localStorage.getItem('aREASettings');
  if (saved) {
    try {
      appSettings = JSON.parse(saved);
      // Ensure startPage exists in legacy saves
      if(!appSettings.startPage) appSettings.startPage = 'home';
    } catch(e) { console.error("Error loading settings", e); }
  }
}

window.onload = () => {
  loadStoredSettings();
  initCanvas();
  loop();
  applySettings();
  
  // Handle start page logic
  const pages = ['home', 'songs', 'videos', 'games', 'books', 'settings'];
  const startPage = appSettings.startPage || 'home';
  const startIndex = pages.indexOf(startPage);
  
  if(startIndex > -1) {
    const navItems = document.querySelectorAll('.nav-item');
    if(navItems[startIndex]) {
        // Trigger tab switch to user preference
        showTab(startPage, navItems[startIndex], startIndex);
    }
  } else {
    // Fallback alignment to home if something fails
    const pill = document.getElementById('selectionPill');
    if(pill) pill.style.transform = `translateX(8px)`;
  }
};

function openAlexModal() {
  document.getElementById('alertTitle').innerText = "Coming Soon";
  document.getElementById('alertMsg').innerText = "Alexandru News is currently in development. Check back later for updates on his legacy!";
  document.getElementById('customAlert').style.display = 'flex';
}

function closeAlert() {
  document.getElementById('customAlert').style.display = 'none';
}
</script>


<div style="display: none;"></div></body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration><div class="__chii-hide__" style="display: none; position: absolute; pointer-events: none;"><div style="position: absolute; box-sizing: border-box; z-index: 100000;"></div><div style="position: absolute; box-sizing: border-box; z-index: 100000;"></div><div style="position: absolute; box-sizing: border-box; z-index: 100000;"></div><div style="position: absolute; box-sizing: border-box; z-index: 100000;"></div><div style="position: absolute; box-sizing: border-box; z-index: 100000; height: 25px; line-height: 25px; background: rgb(255, 255, 255); color: rgb(34, 34, 34); font-size: 12px; padding: 0px 5px; white-space: nowrap; overflow-x: hidden; box-shadow: rgba(0, 0, 0, 0.05) 0px 2px 2px 0px, rgba(0, 0, 0, 0.08) 0px 1px 4px 0px, rgba(0, 0, 0, 0.2) 0px 3px 1px -2px;"></div></div><div style="all: initial;"></div></html>
